{% extends "base.html" %}

{% block styles %}
    {{ super() }}
    <link href="{{ url_for('static', filename='css/weather.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}

<div class="container text-center mt-5 mb-4 weather-header">
    <div class="d-flex justify-content-center align-items-center">
        <img src="{{ url_for('static', filename='assets/img/weather_icon.png') }}" alt="Weather Icon">
        <h1 class="app-title mb-0">Weather App</h1>
    </div>
</div>


<div class="container flex-grow-1 px-4 px-lg-5 py-5">

    <div class="row justify-content-center">
        <div class="col-md-10">

            <div class="card weather-card-detail h-100">
                <div class="card-body">

                    <!-- Header Section -->
                    <div class="row card-top-header-detail bg-{{ (city.id % 6) + 1 }}">

                        <div class="row w-100 mb-5 align-items-center">
                            <!-- Back Button -->
                            <div class="col-2 ps-4 text-start">
                                <a href="{{ url_for('show_weather') }}"
                                   class="text-white back-btn"
                                   aria-label="Back to Dashboard">
                                    <i class="fas fa-arrow-left fa-lg"></i>
                                </a>
                            </div>

                            <!-- Title & Time -->
                            <div class="col-8 text-center">
                                <h5 class="card-title mb-0">{{ city.name }}, {{ city.country }}</h5>
                                <p class="small mb-1">{{ city.dt_formatted }}</p>
                            </div>

                            <div class="col-2"></div>
                        </div>

                        <!-- Icon + Temps -->
                        <div class="row w-100 text-center justify-content-center px-5">

                            <!-- Weather Icon + Condition -->
                            <div class="col-3">
                                {% if city.icon %}
                                <img class="weather-icon-large"
                                     src="https://openweathermap.org/img/wn/{{ city.icon }}@2x.png"
                                     alt="{{ city.description }}">
                                {% endif %}

                                <span class="weather-description">
                                    {{ city.description|title }}
                                </span>
                            </div>

                            <!-- Temperature Details -->
                            <div class="col-3 border-start border-white border-opacity-25">
                                <p class="temp-main mb-0">
                                    {{ city.temp|round|int if city.temp is not none else 'N/A' }}°C
                                </p>

                                {% if city.temp_min is not none %}
                                <p class="temp-range small">
                                    Min: {{ city.temp_min|round|int }}°C
                                </p>
                                {% endif %}

                                {% if city.temp_max is not none %}
                                <p class="temp-range small">
                                    Max: {{ city.temp_max|round|int }}°C
                                </p>
                                {% endif %}
                            </div>

                        </div>
                    </div>


                    <!-- Details Section -->
                    <div class="row weather-details-detail text-center justify-content-center">

                        <!-- Column: Atmospheric info -->
                        <div class="col-3">
                            <div class="detail-item">Pressure: {{ city.pressure }} hPa</div>
                            <div class="detail-item">Humidity: {{ city.humidity }}%</div>
                            <div class="detail-item">Visibility: {{ city.visibility }} km</div>
                        </div>

                        <!-- Column: Wind -->
                        <div class="col-3 border-start border-white border-opacity-25">
                            <div class="detail-item">
                                <i class="fas fa-location-arrow"></i> Wind: {{ city.wind_speed }} m/s
                            </div>
                        </div>

                        <!-- Column: Sun times -->
                        <div class="col-3 border-start border-white border-opacity-25">
                            <div class="detail-item">
                                <i class="fas fa-arrow-up"></i>
                                Sunrise: {{ city.sunrise_formatted }}
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-arrow-down"></i>
                                Sunset: {{ city.sunset_formatted }}
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

</div>

{% include "footer.html" %}

{% endblock %}
