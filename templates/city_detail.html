{% extends "base.html" %}

{% block styles %}
    {{ super() }}  {# loads the base styles first #}
    <link href="{{ url_for('static', filename='css/weather.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="flex-grow-1">

    <div class="container px-4 px-lg-5 py-5">
        
        <div class="row gx-4 gy-4 justify-content-center"> 
            <div class="col-md-8"> 
                
                <div class="card weather-card-detail h-100">

                    <div class="card-body">
                        
                        <div class="row align-items-center card-top-header-detail bg-{{ (city.id % 6) + 1 }}" style="position: relative;">
                            <div class="col-1 d-flex justify-content-start align-items-center ps-3">
                                <a href="{{ url_for('show_weather') }}" class="text-white-50" style="text-decoration: none;" aria-label="Back to Dashboard">
                                    <i class="fas fa-arrow-left fa-lg"></i>
                            </div>

                            <div class="col-6 d-flex flex-column justify-content-center text-center"> 
                                <h5 class="card-title mb-0">{{ city.name }}, {{ city.country }}</h5>
                                <p class="card-text time-date small mb-1">{{ city.dt_formatted }}</p>
                                <div class="d-flex align-items-center justify-content-center"> {% if city.icon %}
                                    <img src="https://openweathermap.org/img/wn/{{ city.icon }}.png" alt="{{ city.description }}" class="weather-icon-small me-2">
                                    {% endif %}
                                    <span class="weather-description">{{ city.description|title }}</span>
                                </div>
                            </div>

                            <div class="col-4 text-end d-flex flex-column justify-content-center text-center"> 
                                <p class="temp-main mb-0">{% if city.temp is not none %}{{ city.temp|round|int }}°c{% else %}N/A{% endif %}</p>
                                {% if city.temp_min is not none %}
                                <p class="temp-range small">Temp Min: {{ city.temp_min|round|int }}°C</p>
                                {% endif %}
                                {% if city.temp_max is not none %}
                                <p class="temp-range small">Temp Max: {{ city.temp_max|round|int }}°C</p>
                                {% endif %}
                            </div>

                        </div> 
                        
                        <div class="row weather-details-detail">
                            <div class="col-4 d-flex flex-column justify-content-center text-left">
                                <div class="detail-item">
                                    <span>Pressure: {{ city.pressure }} hPa</span>
                                </div>
                                <div class="detail-item">
                                    <span>Humidity: {{ city.humidity }}%</span>
                                </div>
                                <div class="detail-item">
                                    <span>Visibility: {{ city.visibility }} km</span>
                                </div>
                            </div>
                            <div class="col-4 d-flex flex-column justify-content-center text-center border-start border-white border-opacity-25"> 
                                <div class="wind-arrow"><i class="fas fa-location-arrow"></i></div>
                                <div class="detail-item">
                                        <span>Wind: {{ city.wind_speed }} m/s</span>
                                </div>
                            </div>
                            <div class="col-4 d-flex flex-column justify-content-center text-center border-start border-white border-opacity-25"> 
                                <div class="detail-item">
                                    <i class="fas fa-arrow-up"></i> <span>Sunrise: {{ city.sunrise_formatted }}</span>
                                </div>
                                <div class="detail-item">
                                    <i class="fas fa-arrow-down"></i> <span>Sunset: {{ city.sunset_formatted }}</span>
                                </div>
                            </div>
                        </div>

                    </div> 
                </div> 
            </div> 
        </div> 
    </div> 
</div> 
{% include "footer.html" %}
{% endblock %}